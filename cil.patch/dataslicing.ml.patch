*** ../cil/src/ext/dataslicing.ml	2006-05-21 06:14:15.000000000 +0200
--- ../cil_patch/src/ext/dataslicing.ml	2006-06-21 11:14:58.866051623 +0200
***************
*** 1,3 ****
--- 1,5 ----
+ (* MODIF: Loop constructor replaced by 3 constructors: While, DoWhile, For. *)
+ 
  (*
   *
   * Copyright (c) 2004, 
***************
*** 357,365 ****
--- 359,373 ----
    | Return (eo, l) -> sliceReturnExp eo l
    | Switch (e, b, sl, l) -> Switch (sliceExp 1 e, sliceBlock b,
                                      List.map sliceStmt sl, l)
+ (*
    | Loop (b, l, so1, so2) -> Loop (sliceBlock b, l,
                                     applyOption sliceStmt so1,
                                     applyOption sliceStmt so2)
+ *)
+   | While (e, b, l) -> While (sliceExp 1 e, sliceBlock b, l)
+   | DoWhile (e, b, l) -> DoWhile (sliceExp 1 e, sliceBlock b, l)
+   | For (bInit, e, bIter, b, l) ->
+ 	For (sliceBlock bInit, sliceExp 1e, sliceBlock bIter, sliceBlock b, l)
    | Goto _ -> sk
    | _ -> E.s (unimp "statement")
  
